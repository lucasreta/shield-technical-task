# ğŸ›¡ï¸ Shield API

A battle-tested, full-stack TypeScript backend for secure user and wallet management.

Built with love and:
- **Express.js + TypeScript**
- **PostgreSQL + Prisma**
- **Zod for validation**
- **Jest + Supertest for tests**
- **JWT-based authentication**
- **Swagger-powered API docs**

---

## ğŸ“¦ Setup

```bash
git clone https://github.com/your-org/shield-api.git
cd shield-api
cp .env.example .env
docker-compose up -d
npx prisma migrate dev
npm install
npm run dev
```

---

## ğŸš€ Scripts

| Script            | Description                    |
|-------------------|--------------------------------|
| `npm run dev`     | Start server (dev mode)        |
| `npm run test`    | Run all unit + integration tests |
| `npm run test:cov`| Run tests with coverage report |
| `npm run lint`    | Run ESLint                     |

---

## ğŸ§ª Test Coverage

![Coverage](https://img.shields.io/badge/coverage-98%25-brightgreen)

```text
Statements   : 98.36% (full service/controller coverage)
Branches     : 86.66%
Functions    : 100%
Lines        : 98.23%
```

All business logic is covered across service, controller, and middleware layers. Errors and edge cases included.

---

## ğŸ” Auth Flow

- `POST /signin` â†’ returns JWT token
- `Authorization: Bearer <token>` required for all wallet routes
- Auth middleware checks ownership and fails silently on mismatch (404)

---

## ğŸ“˜ API Docs

- Swagger UI: `http://localhost:3000/api-docs`
- Autogenerated from Zod schemas and route annotations

---

## ğŸ§° Tech Stack

- **Express.js** â€” API framework
- **Prisma** â€” DB toolkit
- **Zod** â€” input validation
- **JWT** â€” auth tokens
- **ts-node-dev** â€” dev runtime
- **ts-jest** â€” test runner
- **swagger-jsdoc** â€” docs generation

---

## ğŸ“ Folder Structure

```
src/
â”œâ”€â”€ controllers/     # Route handlers
â”œâ”€â”€ services/        # Business logic
â”œâ”€â”€ middleware/      # Auth, error handling, validation
â”œâ”€â”€ validators/      # Zod schemas
â”œâ”€â”€ routes/          # Express routes
â”œâ”€â”€ config/          # Prisma, Swagger
â”œâ”€â”€ utils/           # Shared helpers, errors
```

---

## ğŸ§± Principles

- âœ… **SOLID structure**
- âœ… **Separation of concerns**
- âœ… **Fully typed**
- âœ… **Test-first mentality**
- âœ… **Security-focused**

---

## ğŸ§ƒ Made with rage, caffeine, and TypeScript.